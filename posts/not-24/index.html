<!DOCTYPE html>
<html lang="en">

<head>
    <div style='display:none'>\(\require{physics}\)\(\require{mathtools}\)</div>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="../posts.css">
    <script src="../posts_header.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Not 24</title>

    <!-- Configure MathJax to wait for TOC/footnotes before rendering -->
    <script>
        window.MathJax = {
            startup: {
                pageReady: () => {
                    // Wait for TOC and footnotes to initialize first
                    return new Promise((resolve) => {
                        if (document.readyState === 'loading') {
                            document.addEventListener('DOMContentLoaded', () => {
                                // Give TOC/footnotes a moment to set up
                                setTimeout(resolve, 100);
                            });
                        } else {
                            setTimeout(resolve, 100);
                        }
                    }).then(() => MathJax.startup.defaultPageReady());
                }
            }
        };
    </script>
    <script id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <div id="header-placeholder"></div>

    <main class="blog-post">
        <section class="intro">
            <h1>Not 24</h1>
            <div class="post-tags"><span class="tag" data-tag="math">math</span><span class="tag" data-tag="misc">misc</span></div>
            <p class="date">Feb 10, 2026</p>
            <p class="desc">Unnecessary proofs</p>
        </section>

<h2>Background</h2>
<p>Consider the following game, loosely inspired by <a href="https://www.4nums.com" target="_blank" rel="noopener noreferrer">24</a>. Let's say we have 4 people. Each person names a digit between 1 and 9 (inclusive)<sup><a href="#fn1" id="fnref1" aria-label="Footnote 1">1</a></sup>. Given only the operations \(\{+, -, \times, \cdot / \cdot, \sqrt{\cdot}, (\cdot)^2 \}\)<sup><a href="#fn2" id="fnref2" aria-label="Footnote 2">2</a></sup> (and of course parentheses to dictate order), and the constraint that each digit must be used <em>exactly</em> once, construct a valid equation that evaluates to 10. If a digit is named more than once, it must be used exactly as many times as it was named.</p>
<p>This is simple enough, but what if I want to play with more people? We may also ask is it ever possible to get a set of \(k\) numbers such that it is not possible to get to 10? I've been thinking about this problem since November and I've made some progress, but I thought it'd be interesting to sorta document how this goes.</p>
<h2>Statement and Strategy</h2>
<h3>Statement</h3>
<p>It will likely be helpful to formally state out exactly what we're looking for. Given a multiset of digits \(D \in [9]^k\), and the operations list \(M \doteq \{+, -, \times, \cdot / \cdot, \sqrt{\cdot}, (\cdot)^2\}\) (where we note that \(\sqrt{\cdot}\) is defined only for integer perfect squares), is there some valid expression in which we use all the \(k\) digits exactly once (and use operations as many times as we wish) that will evaluate to 10?</p>
<p>We then seek the minimum \(k\) such that the above is always true regardless of the multiset.</p>
<h3>Strategy</h3>
<p>Our strategy will be to construct increasingly tight upper and lower bounds until they meet (sort of how the Rubik's cube God's number proof was done). I also really want to do this without computer assistance, but we'll see how feasible that is.</p>
<p>My first crack at this (roughly November to January) involved trying to construct some sort of homogeneity lemma (basically that a multiset where every digit is the same is the hardest case to solve). I still think this is right (particularly for 7 since it is the largest prime that is coprime to 10), but I cannot figure out how to prove it so for now we'll just leave it.</p>
<h2>\(k \leq 18\) (sometime in Dec/Jan)</h2>
<div class="claim-box env-box" id="env-k18">
  <p><strong>Claim 1 (Achievability for \(k \geq 18\)).</strong> For every \(k \geq 18\), we can construct 10 according to the rules of the game.</p>
</div>
<p>Before we proceed with the proof, it'll be helpful to introduce some notation and set things up.</p>
<p>Let our mutliset of digits be denoted \(D \subset [9]^k\). Let \(c_d\) denote the multiplicity of each digit \(d \in D\) so \(\sum_{i=1}^9 c_d =k\). Note that we can construct 10 from 4 1s: \begin{equation} (1+1+1)^2 + 1 = 10. \end{equation}</p>
<p>We may easily obtain \(1\) via \(d/d\), which consumes 2 occurrences of the digit \(d\). Therefore, to build 4 1s of the form \(d/d\), we need 4 disjoint equal pairs among the digits. Define the number of disjoint equal pairs available in \(D\) by \begin{equation} P(D) \doteq \sum_{d=1}^9 \left\lfloor \frac{c_d}{2} \right\rfloor. \end{equation}</p>
<p>Now, we introduce the following lemma for convenience: <div class="lemma-box env-box" id="env-pair-count-lb">
  <p><strong>Lemma 2 (Pair-count lower bound).</strong> If \(k \geq 16\), then \(P(D) \geq 4\) for every multiset \(d \subseteq [9]^k\).</p>
</div></p>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-pair-count-lb">Lemma 2</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>Suppose \(P(D) \leq 3\). Then each digit contributes at most \(\left\lfloor \frac{c_d}{2}\right\rfloor\) pairs, so \begin{equation} c_d \leq 2 \left\lfloor \frac{c_d}{2}\right\rfloor + 1 \end{equation} for each \(d\). Summing over \(d = 1, \dots, 9\), \begin{equation} k = \sum_{i=1}^9 c_d \leq \sum_{i=1}^9  \left(2\left\lfloor \frac{c_d}{2}\right\rfloor + 1 \right) = 2P(D) + 9 \leq 2\cdot 3 + 9 = 15. \end{equation} Thus, if \(k \geq 16\), it is impossible to have \(P(D) \leq 3\); hence \(P(D) \geq 4\).</p></div>
</div>
<p>Now we may prove the original claim.</p>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-k18">Claim 1</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>By the above lemma, for \(k \geq 16\) we may choose four disjoint pairs \((a,a), (b,b), (c,c), (d,d)\) (not necessarily unique digits) and form \begin{equation} \frac{a}{a} = \frac bb = \frac cc = \frac dd = 1, \end{equation} thus we can reach 10. To guarantee we can use <em>all</em> remaining digits without affecting the value 10, it suffices to have an additional equal pair \((e,e)\) disjoint from the 8 digits already used, because then we can form \(e-e=0\) and multiply the entire leftover expression by 0.</p>
<p>So we want \(P(D) \geq 5\). From the same inequality as used in the lemma, \begin{equation} k \leq 2 P(D)+9. \end{equation} Plugging in our desired \(P(D)-1\) (same logic as lemma), we have that \(k \leq 2 \cdot 4 + 9 = 17\), so to ensure \(P(D) \geq 5\), we require \(k \geq 18\), as claimed.</p></div>
</div>
<h2>\(k \geq 5\) (Feb 05)</h2>
<p>We show this explicitly by counterexample.</p>
<div class="claim-box env-box" id="env-k4-counter">
  <p><strong>Claim 3 (Counterexample for \(k=4\)).</strong> Given the operations in \(M\) and the multiset \(\{7,7,7,7\}\), we can never construct 10.</p>
</div>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-k4-counter">Claim 3</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p><em>Intuition.</em> The only way to use exactly 4 leaves is via a full binary tree with 4 leaves. There are only 2 root shapes: \((2,2)\) and \((1,3)\). The delicate point is that unary operations \(\sqrt{\cdot}\) and \((\cdot)^2\) may be applied at internal nodes without consuming digits, so we must account for them completely. We reduce the problem to a finite target-exclusion check.</p>
<h3>Unary closure</h3>
<p>Define the unary-closure operator on a set \(S\) by \begin{equation} cl(S) \doteq S \cup \{x^2 : x \in S\} \cup \{\sqrt{x} : x \in S \text{ and } x \text{ is a perfect square integer}\}. \end{equation} Since unary operations act only on the <em>value</em> already produced at a node, the set of values attainable by any fixed subtree is closed under \(cl(\cdot)\).</p>
<h3>Classify all 2-leaf values from \(\{7,7\}\)</h3>
<p>Let \(S_2\) denote the set of all values obtainable from exactly two leaves \(\{7,7\}\) using operations in \(M\). We claim \begin{equation} S_2 \supseteq \{0,\ 1,\ 14,\ 49,\ 98,\ 196,\ 2401,\ 1/7,\ 1/49\}. \end{equation}</p>
<p>Justification: <ul><li>Using only the binary operations on raw leaves gives \(7-7=0\), \(7/7=1\), \(7+7=14\), \(7\times 7=49\).</li><li>Applying \((\cdot)^2\) to \(14\) and \(49\) yields \(196\) and \(2401\). Applying \(\sqrt{\cdot}\) to \(196\) and \(2401\) returns \(14\) and \(49\); no other square roots are defined from two 7s.</li><li>By allowing a unary operation on a single leaf before the binary root, we may use \(49\) as a leaf value and form \(7/49 = 1/7\). Squaring yields \((1/7)^2 = 1/49\).</li></ul></p>
<p>(We will only need the displayed subset of small values in the later finite checks.)</p>
<h3>Reduce the 4-leaf problem to two root shapes</h3>
<p>Every full 4-leaf binary tree has root of type \((2,2)\) or \((1,3)\). Concretely, any 4-leaf expression is of one of the following forms (up to swapping left/right): \begin{equation} E = U(A \circ B) \quad \text{with } A,B \text{ 2-leaf subexpressions}, \end{equation} or \begin{equation} E = U(7 \circ T) \ \text{or}\ U(T \circ 7) \quad \text{with } T \text{ a 3-leaf subexpression}, \end{equation} where \(\circ \in \{+,-,\times,\cdot/\cdot\}\) and \(U(\cdot)\) denotes an (optional) finite composition of unary operations applied at the root (each application must be defined).</p>
<h3>Unary operations at the root force a finite set of binary targets</h3>
<p>The only unary operations are \(x \mapsto x^2\) and \(x \mapsto \sqrt{x}\) (when defined). Since \(10\) is neither a perfect square nor the square root of a perfect square integer other than 100, the only way a root unary chain can produce 10 is if the <em>binary</em> root value lies in \begin{equation} \{10,\ -10,\ 100\}. \end{equation} (\(x^2=10\) has no rational solution; \(\sqrt{x}=10\) forces \(x=100\); and \(\sqrt{x^2}\) can introduce an absolute value, hence \(-10\).)</p>
<p>Thus, to show impossibility, it suffices to show that in either root shape, the binary root can never evaluate to any of \(10,-10,100\).</p>
<h3>Exclude root shape \((2,2)\)</h3>
<p>In this shape, \(A,B \in S_2\). Therefore the binary root lies in the finite set \begin{equation} \{a\circ b : a,b \in S_2,\ \circ \in \{+,-,\times,\cdot/\cdot\}\}. \end{equation} A direct check shows this set does not contain \(10\), \(-10\), or \(100\). Hence the \((2,2)\) shape cannot yield 10.</p>
<h3>Exclude root shape \((1,3)\)</h3>
<p>In this shape, the binary root is \(7 \circ T\) or \(T \circ 7\). To have the binary root in \(\{10,-10,100\}\), \(T\) must satisfy one of finitely many equations, giving the forced target set \begin{equation} \mathcal{T} \doteq \{3,\ -3,\ 17,\ -17,\ 93,\ -93,\ 107,\ 10/7,\ -10/7,\ 100/7,\ -100/7,\ 7/10,\ -7/10,\ 7/100,\ -7/100,\ 70,\ -70,\ 700,\ -700\}. \end{equation} (These come from solving \(7 \circ T = y\) and \(T \circ 7 = y\) for \(y \in \{10,-10,100\}\) and \(\circ \in \{+,-,\times,\cdot/\cdot\}\).)</p>
<p>Now, any 3-leaf expression necessarily contains a 2-leaf subtree; evaluating that subtree first yields some \(x \in S_2\), and then \(T\) is obtained by combining \(x\) with the remaining leaf \(7\) using one binary operation, followed by unary closure: \begin{equation} T \in cl(\{x \circ 7,\ 7 \circ x : x \in S_2,\ \circ \in \{+,-,\times,\cdot/\cdot\}\}). \end{equation} Therefore, it suffices to check the finite set on the right-hand side and verify it is disjoint from \(\mathcal{T}\). This direct check succeeds: no element of \(\mathcal{T}\) appears.</p>
<p>Hence the \((1,3)\) shape cannot yield a binary root in \(\{10,-10,100\}\), and therefore cannot yield 10 after any root-level unary operations.</p>
<p>Neither root shape \((2,2)\) nor \((1,3)\) can yield a binary root value in \(\{10,-10,100\}\), hence no valid expression using exactly four 7s can evaluate to 10. This proves the claim.</p></div>
</div>
<h2>\(k \leq 16\) (Feb 10)</h2>
<div class="claim-box env-box" id="env-k16">
  <p><strong>Claim 4 (Achievability for \(k \geq 16\)).</strong> For every \(k \geq 16\), we can construct 10 according to the rules of the game.</p>
</div>
<p>The \(k \leq 18\) proof earlier "wastes" 2 digits to manufacture a spare equal pair \((e,e)\) so we can build \(e-e=0\) and discard all remaining digits. At \(k=16\) we cannot always guarantee a 5th equal pair, so we instead manufacture a <em>duplicate-free</em> zero using the unary operations.</p>
<p>We retain the pair-count notation from before. Let our multiset of digits be \(D \subset [9]^k\), let \(c_d\) denote the multiplicity of each digit \(d \in [9]\), and define \begin{equation} P(D) \doteq \sum_{d=1}^9 \left\lfloor \frac{c_d}{2} \right\rfloor. \end{equation}</p>
<p>By <a href="#env-pair-count-lb">Lemma 2</a>, if \(k \geq 16\) then \(P(D) \geq 4\). Thus, for \(k=16\) we may always select 4 disjoint equal pairs and form 4 1s: \begin{equation} \frac{a}{a} = \frac{b}{b} = \frac{c}{c} = \frac{d}{d} = 1, \end{equation} and hence we can build \begin{equation} T \doteq \left(\frac{a}{a}+\frac{b}{b}+\frac{c}{c}\right)^2+\frac{d}{d} = 10. \end{equation} This uses exactly 8 digits (4 pairs). The remaining issue is: how do we force the remaining 8 digits to be used exactly once without changing the value?</p>
<p>We can resolve this via the following observation: when \(k=16\) and \(P(D)=4\), the multiset must contain <em>all but at most one</em> digit from \([1,9]\). In particular, it must contain either \(\{2,4\}\) or \(\{3,9\}\), which gives a zero <em>without requiring duplicates</em>.</p>
<div class="lemma-box env-box" id="env-k16-zero">
  <p><strong>Lemma 5 (Forced zero gadget at \(k=16\)).</strong> Let \(D \subseteq [9]^{16}\) and suppose \(P(D)=4\). Then at least one of the following holds: (i) digits 2 and 4 both occur in \(D\), or (ii) digits 3 and 9 both occur in \(D\). Hence, \(D\) admits a duplicate-free zero: \begin{equation} Z \in \{4-2^2,\ 9-3^2\}, \end{equation} and hence \(Z=0\).</p>
</div>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-k16-zero">Lemma 5</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>Write \begin{equation} c_d = 2\left\lfloor \frac{c_d}{2}\right\rfloor + r_d, \quad r_d \in \{0,1\}. \end{equation} Summing over \(d=1,\dots,9\), \begin{equation} 16 = \sum_{d=1}^9 c_d = 2P(D) + \sum_{d=1}^9 r_d = 8 + \sum_{d=1}^9 r_d, \end{equation} so \(\sum_{d=1}^9 r_d = 8\). Since \(r_d=1\) implies \(c_d\) is odd (hence \(\geq 1\)), this means that <em>at least</em> 8 distinct digits appear in \(D\), i.e. <em>at most one digit is missing</em> from \(\{1,\dots,9\}\).</p>
<p>Now consider the set \(\{2,3,4,9\}\). If 2 is missing then 3,4,9 are present, so in particular \(\{3,9\} \subset D\). If digit 3 is missing then \(\{2,4\} \subset D\). Similarly, if 4 is missing then \(\{3,9\} \subset D\), and if 9 is missing then \(\{2,4\} \subset D\). If none are missing, then both \(\{2,4\}\) and \(\{3,9\}\) are present. Thus at least one of \(\{2,4\}\) or \(\{3,9\}\) occurs, and we can form \(4-2^2=0\) or \(9-3^2=0\) using each digit exactly once.</p></div>
</div>
<div class="lemma-box env-box" id="env-k16-reserve">
  <p><strong>Lemma 6 (Zero gadget can be chosen without destroying the four pairs).</strong> Let \(D \subseteq [9]^{16}\) and suppose \(P(D)=4\). Then there exists a choice of \begin{equation} Z \in \{4-2^2,\ 9-3^2\} \end{equation} such that the digits used to build \(Z\) can be reserved while still leaving at least four disjoint equal pairs among the remaining digits. In particular, after reserving the digits of \(Z\), we still have enough pairs to build \begin{equation} T = \left(\frac{a}{a}+\frac{b}{b}+\frac{c}{c}\right)^2+\frac{d}{d} = 10. \end{equation}</p>
</div>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-k16-reserve">Lemma 6</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>Since \(P(D)=4\) and \(k=16\), write \begin{equation} c_d = 2\left\lfloor \frac{c_d}{2}\right\rfloor + r_d,\quad r_d\in\{0,1\}. \end{equation} As in <a href="#env-k16-zero">Lemma 5</a>, summing gives \(\sum_{d=1}^9 r_d = 8\). Hence exactly one digit has even multiplicity; call it \(e\). (All other digits have odd multiplicity, hence at least 1.)</p>
<p>Now note the following fact: if \(c_d\) is odd, then reserving a single copy of \(d\) does not decrease the number of available pairs contributed by \(d\), since \begin{equation} \left\lfloor \frac{c_d-1}{2}\right\rfloor = \left\lfloor \frac{c_d}{2}\right\rfloor \quad \text{when } c_d \text{ is odd}. \end{equation} The only way reserving digits can decrease \(P(D)\) is if we reserve a copy of the unique even-multiplicity digit \(e\).</p>
<p>By <a href="#env-k16-zero">Lemma 5</a>, at least one of the gadgets is available; choose \(Z \in \{4-2^2, 9-3^2\}\) so that reserving its digits leaves four disjoint equal pairs. Choose the zero gadget \(Z\) so that it does <em>not</em> use the digit \(e\): <ul><li>If \(e \in \{2,4\}\), choose \(Z = 9-3^2\).</li><li>If \(e \in \{3,9\}\), choose \(Z = 4-2^2\).</li><li>If \(e \notin \{2,3,4,9\}\), choose whichever of the two gadgets is available.</li></ul></p>
<p>Because at most one digit is missing from \(\{1,\dots,9\}\), in the first two bullets the "other" gadget is guaranteed to be available: if (say) \(e=2\) then digit 2 is present (even multiplicity) and so the only possible missing digit is not both 3 and 9, hence \(\{3,9\}\subset D\); similarly for the other cases.</p>
<p>With this choice, the digits reserved for \(Z\) come only from odd-multiplicity digits, so reserving them does not reduce \(P(D)\). Therefore there remain at least four disjoint equal pairs available to build \(T=10\).</p></div>
</div>
<p>We can now finish our original \(k \leq 16\) construction.</p>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-k16">Claim 4</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>Fix \(k \geq 16\). If \(P(D) \geq 5\), then we revert to the \(k \leq 18\) proof: use 4 pairs to build \(T=10\) and use the 5th pair to build \(e-e=0\), absorbing all remaining digits.</p>
<p>So assume \(k=16\) and \(P(D)=4\). By <a href="#env-k16-reserve">Lemma 6</a>, we can form a duplicate-free zero gadget \(Z \in \{4-2^2,\ 9-3^2\}\) with \(Z=0\) (choose whichever is available in \(D\)).</p>
<p>Independently, since \(P(D)=4\), we can select 4 disjoint equal pairs and construct \begin{equation} T = \left(\frac{a}{a}+\frac{b}{b}+\frac{c}{c}\right)^2+\frac{d}{d} = 10. \end{equation} Let \(R\) be any expression using every remaining unused digit exactly once (e.g. their product in any parenthesization). Then \begin{equation} T + Z\cdot R = 10 \end{equation} uses every digit exactly once and evaluates to 10.</p></div>
</div>
<h2>\(k \leq 14\) (Feb 28)</h2>
<div class="claim-box env-box" id="env-k14">
  <p><strong>Claim 7 (Achievability for \(k \ge 14\)).</strong> For every \(k \ge 14\) and every multiset \(D \subset [9]^k\), there exists a valid expression using each digit exactly once that evaluates to \(10\).</p>
</div>
<p>The main improvement over the \(k \le 16\) argument is that we no longer insist on manufacturing 1 exclusively from equal pairs \((d,d)\). We can also obtain 1 from <em>adjacent</em> digits: \begin{equation} \abs{a-b} = 1 \quad \text{whenever } \abs{a-b}=1, \end{equation} or, if we wish to avoid ordering, \begin{equation} (a-b)^2 = 1. \end{equation} Thus any disjoint pair \((x,y)\) with \(\abs{x-y} \le 1\) can be converted into a 1.</p>
<p>This reduces the combinatorics of “how many 1s can we force?” to a matching problem on a path.</p>
<p>Let \(c_i\) denote the multiplicity of digit \(i\). Write \begin{equation} c_i = 2\left\lfloor \frac{c_i}{2} \right\rfloor + r_i, \qquad r_i \in \{0,1\}. \end{equation}</p>
<p>Define: <ul><li>\(P(D) \doteq \sum_{i=1}^9 \left\lfloor \frac{c_i}{2} \right\rfloor\), the number of disjoint equal pairs available.</li><li>\(R(D) \doteq \sum_{i=1}^9 r_i\), the number of leftover “odd” tokens after removing all equal pairs.</li></ul></p>
<p>Interpret the digits as tokens placed on the path \begin{equation} 1 - 2 - 3 - \cdots - 9. \end{equation} A <strong>unit-producing pair</strong> is either: <ul><li>two tokens on the same vertex \(i\), or</li><li>one token on \(i\) and one on \(i+1\).</li></ul></p>
<p>Let \(U(D)\) denote the maximum number of disjoint unit-producing pairs extractable from \(D\).</p>
<p>After removing all equal pairs (giving \(P(D)\) pairs), the remaining tokens lie on the vertices with \(r_i=1\), at most one per vertex. Among these, we may additionally match adjacent vertices along the path.</p>
<p>Let \begin{equation} A(D) \doteq \nu\big(P_9[\{i \mid r_i=1\}]\big), \end{equation} where \(\nu(G)\) denotes the matching number of a graph \(G\); the number of pairwise disjoint edges in \(G\). Then \begin{equation} U(D) \geq P(D) + A(D). \end{equation}</p>
<div class="lemma-box env-box" id="env-unit-pairs-12">
  <p><strong>Lemma 8 (Four unit pairs from 12 digits).</strong> If \(\abs{D} = 12\), then \(U(D) \ge 4\).</p>
</div>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-unit-pairs-12">Lemma 8</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>Since \begin{equation} 12 = \sum_{i=1}^9 c_i = 2P(D) + R(D), \end{equation} we have \begin{equation} R(D) = 12 - 2P(D). \end{equation}</p>
<p>We argue by cases.</p>
<p><strong>Case 1: \(P(D) \ge 4\).</strong> Then \(U(D) \ge P(D) \ge 4\).</p>
<p><strong>Case 2: \(P(D) = 3\).</strong> Then \(R(D) = 6\). So six vertices of the path carry an odd token.</p>
<p>But the path on nine vertices has independence number \(5\); hence any subset of six vertices must contain at least one adjacent pair. Therefore \(A(D) \ge 1\), and \begin{equation} U(D) \ge 3 + 1 = 4. \end{equation}</p>
<p><strong>Case 3: \(P(D) \le 2\).</strong> Then \(R(D) \ge 8\).</p>
<p>Now we claim any induced subgraph of the 9-vertex path on at least 7 vertices has matching number at least 2.</p>
<p>Indeed, if a subset \(S\) of vertices satisfies \(\nu(P_9[S]) \le 1\), then the induced subgraph consists of isolated vertices together with at most one component containing an edge. In a path, such a component has size at most 3. The remaining vertices must be isolated and therefore pairwise nonadjacent; there can be at most 4 of these. Hence \(\abs{S} \le 3 + 4 = 6\). Contrapositively, \(\abs{S} \ge 7\) implies \(\nu(P_9[S]) \ge 2\).</p>
<p>Applying this with \(\abs{S} = R(D) \ge 8\), we obtain \(A(D) \ge 2\), and therefore \begin{equation} U(D) \ge P(D) + A(D) \ge 2 + 2 = 4. \end{equation}</p>
<p>All cases give \(U(D) \ge 4\).</p></div>
</div>
<p>The bound is tight at 11 digits: for example, \begin{equation} D = \{5,5,5,5,5,5,5,1,3,7,9\} \end{equation} admits only three disjoint unit pairs. (We may note that we can construct a 4th 1 e.g. via \((9-7)/(3-1)\), but figuring out how to formalize this is too much work; I'll likely revisit it later.)</p>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-k14">Claim 7</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>Let \(k \ge 14\). Since there are only 9 digit types, some digit \(e\) appears at least twice. Reserve two copies and form \begin{equation} Z \doteq e - e = 0. \end{equation}</p>
<p>Remove these two digits; the remaining multiset \(D'\) has size \begin{equation} \abs{D'} = k - 2 \ge 12. \end{equation}</p>
<p>By <a href="#env-unit-pairs-12">Lemma 8</a>, we have \(U(D') \ge 4\). Hence we may extract 4 disjoint unit pairs from \(D'\) and convert them into 4 1s.</p>
<p>Using these four 1s, construct \begin{equation} T \doteq (1+1+1)^2 + 1 = 10. \end{equation}</p>
<p>Let \(R\) be any expression using all remaining unused digits exactly once (for instance, their product in any parenthesization). Then \begin{equation} T + Z \cdot R = 10 \end{equation} uses every digit exactly once and evaluates to \(10\).</p></div>
</div>
<h2>\(k \le 11\) (Mar 01)</h2>
<div class="claim-box env-box" id="env-k11">
  <p><strong>Claim 9 (Achievability for \(k \ge 11\)).</strong> For every \(k \ge 11\) and every multiset \(D \subset [9]^k\), there exists a valid expression using each digit exactly once that evaluates to \(10\).</p>
</div>
<p>We shall keep the same “absorb leftovers with a \(0\)” architecture as before, but sharpen the internal \(10\)-kernel: instead of forcing four disjoint unit pairs (to make four \(1\)s), we show that any multiset of size \(9\) already contains a small kernel for \(10\). This drops the global threshold by 2.</p>
<p>We again view the digits as tokens on the path \begin{equation} 1 - 2 - 3 - \cdots - 9. \end{equation}</p>
<p>A unit-producing pair is defined the same as before.</p>
<p>A <strong>nine-producing gadget</strong> is any of: <ul><li>a single digit \(9\), yielding \(9\) directly,</li><li>a single digit \(3\), yielding \(9 = 3^2\),</li><li>a distance-3 pair \((i,i+3)\), yielding \(9 = (i-(i+3))^2\), or</li><li>a sum-to-9 pair \((1,8),(2,7),(3,6),(4,5)\), yielding \(9 = x+y\).</li></ul></p>
<p>The main kernel identity is \begin{equation} 10 = 9 + 1, \end{equation} so it suffices to build a nine-gadget and a unit-pair disjointly.</p>
<p>We shall want a crude extremal identity for unit pairs, stated below.</p>
<div class="lemma-box env-box" id="env-unitpair-6">
  <p><strong>Lemma 10 (Unit pair from six digits).</strong> If \(\abs{D} \ge 6\), then \(D\) contains a unit-producing pair.</p>
</div>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-unitpair-6">Lemma 10</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>If some digit repeats, we have an equal pair \((i,i)\) and hence \(1=i/i\). Otherwise all digits are distinct. But the independence number of the 9-vertex path is \(5\), so any set of \(6\) distinct vertices contains an adjacent pair \((i,i+1)\). Then \(1=(i-(i+1))^2\).</p></div>
</div>
<p>We will also need a 2-value reduction.</p>
<div class="lemma-box env-box" id="env-two-value-9">
  <p><strong>Lemma 11 (Two-value support at size 9 gives 10).</strong> Let \(D \subset [9]^9\). If \(D\) is supported on at most two digit-values, then \(D\) admits a valid expression using some of the digits of \(D\) that evaluates to \(10\).</p>
</div>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-two-value-9">Lemma 11</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>If \(D\) is supported on at most two values, write \begin{equation} D = \{x^{c_x}, y^{c_y}\}, \qquad c_x + c_y = 9. \end{equation} Then the number of disjoint equal pairs is \begin{equation} P(D) = \left\lfloor \frac{c_x}{2} \right\rfloor + \left\lfloor \frac{c_y}{2} \right\rfloor. \end{equation} For any integers \(c_x,c_y \ge 0\) with \(c_x+c_y=9\), we have \(P(D) \ge 4\); the minimum occurs at \(1+8\) or \(2+7\), giving \(0+4=4\) or \(1+3=4\).</p>
<p>Thus we can always select four disjoint equal pairs and form four \(1\)s: \begin{equation} \frac aa = \frac bb = \frac cc = \frac dd = 1. \end{equation} Then \begin{equation} (1+1+1)^2 + 1 = 10 \end{equation} gives a \(10\)-kernel.</p></div>
</div>
<p>Now we will require a kernel lemma.</p>
<div class="lemma-box env-box" id="env-kernel-9">
  <p><strong>Lemma 12 (A 10-kernel from 9 digits).</strong> For every multiset \(D \subset [9]^9\), there exists a valid expression using some of the digits of \(D\) (each at most once) that evaluates to \(10\).</p>
</div>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-kernel-9">Lemma 12</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>We proceed by successive reductions. Throughout, we shall ignore unused digits.</p>
<p><em>Immediate 2-leaf kernels.</em> If \(D\) contains any of \((1,9),(2,8),(3,7),(4,6)\) or contains two \(5\)s, then we can form \(10\) by addition and are done. Hence assume: <ul><li>no complement-to-10 pair occurs in \(D\), and</li><li>\(c_5 \le 1\).</li></ul></p>
<p><em>Singleton nine gadgets.</em> If \(9 \in D\), we have \(9\). If \(3 \in D\), we have \(9=3^2\). In either case, removing that one digit leaves 8 digits. By <a href="#env-unitpair-6">Lemma 10</a>, the remaining digits contain a disjoint unit pair producing \(1\). Hence \(10=9+1\). So assume: \begin{equation} 3 \notin D \quad \text{and} \quad 9 \notin D. \end{equation}</p>
<p><em>2-leaf nine gadgets.</em> If \(D\) contains any sum-to-9 pair among \((1,8),(2,7),(4,5)\), then \(9=x+y\) uses two digits, leaving 7 digits; by <a href="#env-unitpair-6">Lemma 10</a>, these yield a disjoint \(1\), hence \(10=9+1\). Similarly, if \(D\) contains a distance-3 pair \((i,i+3)\), then \(9=(i-(i+3))^2\) and again the remaining 7 digits yield a disjoint \(1\). Hence we may assume: <ul><li>none of \((1,8),(2,7),(4,5)\) occurs in \(D\), and</li><li>no distance-3 pair \((i,i+3)\) occurs in \(D\).</li></ul></p>
<p><em>mod-3 chain collapse.</em> The distance-3 edges partition the digits into chains: \begin{equation} 1-4-7, \qquad 2-5-8, \qquad 3-6-9. \end{equation} The absence of any distance-3 pair implies that the support of \(D\) restricts on each chain to an <em>independent set</em> of that 3-vertex path. Thus: <ul><li>on \(1-4-7\), the allowed occupied subsets are \(\emptyset, \{1\}, \{4\}, \{7\}, \{1,7\}\),</li><li>on \(2-5-8\), the allowed occupied subsets are \(\emptyset, \{2\}, \{5\}, \{8\}, \{2,8\}\),</li><li>on \(3-6-9\), since \(3,9 \notin D\), the only possibilities are \(\emptyset\) and \(\{6\}\).</li></ul></p>
<p>Now use the earlier exclusions: <ul><li>\(\{2,8\}\) is forbidden because it is a complement-to-10 pair,</li><li>\(\{1,8\}\) and \(\{7,2\}\) are forbidden because they are complement-to-10 pairs,</li><li>\(\{4,5\}\) is forbidden because it is a sum-to-9 pair.</li></ul></p>
<p>Therefore the support of \(D\) must be one of the following: <ul><li>one-value supports: \begin{equation} \{1\},\ \{2\},\ \{4\},\ \{5\},\ \{6\},\ \{7\},\ \{8\}, \end{equation}</li><li>two-value supports: \begin{equation} \{1,2\},\ \{1,5\},\ \{1,6\},\ \{1,7\},\ \{2,4\},\ \{2,6\},\ \{4,8\},\ \{5,6\},\ \{5,7\},\ \{6,7\},\ \{6,8\},\ \{7,8\}, \end{equation}</li><li>multi-value supports: \begin{equation} \{1,2,6\},\ \{1,5,6\},\ \{1,5,7\},\ \{1,6,7\},\ \{5,6,7\},\ \{6,7,8\},\ \{1,5,6,7\}. \end{equation}</li></ul></p>
<p>If \(D\) is supported on at most two values, then <a href="#env-two-value-9">Lemma 11</a> applies and we are done. So it remains only to handle the seven explicit multi-value supports.</p>
<p><strong>Support \(\{1,2,6\}\)</strong> \begin{equation} 10 = 6 + 2^2. \end{equation}</p>
<p><strong>Support \(\{1,5,6\}\)</strong> <ul><li>If \(c_5 \ge 2\), then \(10=5+5\).</li><li>Otherwise \(c_5=1\), so \(c_1+c_6=8\).</li><li>If \(c_1 \ge 4\), use \(10=(1+1+1)^2+1\).</li><li>If \(c_1 \le 3\), then \(c_6 \ge 5\); form \(3=(6+6+6)/6\) and then \begin{equation} 10 = 1 + 3^2. \end{equation}</li></ul></p>
<p><strong>Support \(\{1,5,7\}\)</strong> <ul><li>If \(c_5 \ge 2\), then \(10=5+5\).</li><li>Otherwise \(c_5=1\), so \(c_1+c_7=8\).</li><li>If \(c_1 \ge 4\), use \(10=(1+1+1)^2+1\).</li><li>If \(c_1 \le 3\), then \(c_7 \ge 5\); use \begin{equation} 10 = \left(\frac{7+7+7}{7}\right)^2 + 1. \end{equation}</li></ul></p>
<p><strong>Support \(\{1,6,7\}\)</strong> <ul><li>If \(c_1 \ge 4\), use \(10=(1+1+1)^2+1\).</li><li>If \(c_6 \ge 3\), use \begin{equation} 10 = 7 + \frac{6+6+6}{6}. \end{equation}</li><li>Otherwise \(c_6 \le 2\), so \(c_7 \ge 4\); use \begin{equation} 10 = \left(\frac{7+7+7}{7}\right)^2 + 1. \end{equation}</li></ul></p>
<p><strong>Support \(\{5,6,7\}\)</strong> <ul><li>If \(c_5 \ge 2\), then \(10=5+5\).</li><li>Otherwise \(c_5=1\), and since the support is exactly \(\{5,6,7\}\) we may use \begin{equation} 10 = 6 + (7-5)^2. \end{equation}</li></ul></p>
<p><strong>Support \(\{6,7,8\}\)</strong> <ul><li>If \(c_7 \ge 2\), use \begin{equation} 10 = 8 + \frac{7+7}{7}. \end{equation}</li><li>Otherwise \(c_7=1\).</li><li>If \(c_6 \ge 3\), use \begin{equation} 10 = 7 + \frac{6+6+6}{6}. \end{equation}</li><li>If \(c_6 \le 2\), then \(c_8 \ge 6\); use \begin{equation} 10 = \left(\frac{8+8+8}{8}\right)^2 + \frac 88. \end{equation}</li></ul></p>
<p><strong>Support \(\{1,5,6,7\}\)</strong> <ul><li>If \(c_5 \ge 2\), then \(10=5+5\).</li><li>Otherwise \(c_5=1\), and since 6 and 7 are present we may use \begin{equation} 10 = 6 + (7-5)^2. \end{equation}</li></ul></p>
<p>Thus in all cases, \(D\) admits a \(10\)-kernel.</p></div>
</div>
<p>Now the proof of our original claim is straightforward.</p>
<div class="proof-box proof-box env-box">
  <div class="proof-box-title env-box-title"><em>Proof of <a href="#env-k11">Claim 9</a>.</em><div class="qed-box"></div></div>
  <div class="proof-box-content env-box-content"><p>Let \(k \ge 11\) and \(D \subset [9]^k\). By pigeonhole, some digit \(e\) appears at least twice. Reserve two copies and form \begin{equation} Z \doteq e - e = 0. \end{equation} Remove these two digits; the remaining multiset \(D'\) has size \(\abs{D'} = k-2 \ge 9\). By <a href="#env-kernel-9">Lemma 12</a>, \(D'\) contains a \(10\)-kernel \(T\).</p>
<p>Let \(R\) be any expression using all remaining unused digits of \(D\) exactly once (for example, their product in any parenthesization). Then \begin{equation} T + Z \cdot R = 10 \end{equation} uses every digit exactly once and evaluates to \(10\).</p></div>
</div>
<div class="footnotes">
<ol>
<li id="fn1">We exclude 0 by convention, it makes the problem unsolvable; given all 0s we can't ever reach 10. <a href="#fnref1" class="footnote-backref" aria-label="Back to reference">↩</a></li>
<li id="fn2">Square root is only defined for perfect integer squares, i.e., 1, 4, 9. <a href="#fnref2" class="footnote-backref" aria-label="Back to reference">↩</a></li>
</ol></div>
    </main>

    <footer class="footer">
        <div class="last-updated">
            <p>Compiled Mar 01, 2026 at 00:28 | <a href="../src/not-24.mdtx" target="_blank">Source</a></p>
        </div>
    </footer>

    <!-- Table of Contents Generator - loads before MathJax renders -->
    <script src="../toc-generator.js"></script>

    <!-- Footnote Sidebar - loads before MathJax renders -->
    <script src="../footnote-sidebar.js"></script>

    <!-- Collapsible Proofs -->
    <script src="../collapsible-proofs.js"></script>
</body>
</html>